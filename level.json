/**
 *
 * Game engine template for the "Super Mario World" level "Yoshi's Island 1"
 *
 * This template is intended as demonstrator, not for actual gaming purposes.
 *
 */
 {                                                                                                      
   // What sprites are used in this level?                                                              
   sprites: [                                                                                           
    /**                                                                                                 
     * What kind of background spites are there in this level?                                          
     */                                                                                                 
     {                                                                                                  
       name: "background",                                                                              
       sprite: "graphics/backgrounds/sky.gif",                                                          
       halign: 'RIGHT',                                                                                 
       valign: 'TOP',                                                                                   
       tiling: true                                                                                     
     },                                                                                                 
                                                                                                        
     // ground                                                                                          
     {                                                                                                  
       name: "ground top",                                                                              
       sprite: "graphics/backgrounds/ground-top.gif",                                                   
       tiling: true                                                                                     
     },                                                                                                 
     {                                                                                                  
       name: "ground filler",                                                                           
       sprite: "graphics/backgrounds/ground-filler.gif",                                                
       tiling: true                                                                                     
     },                                                                                                 
     {                                                                                                  
       name: "slanted ground",                                                                          
       sprite: "graphics/backgrounds/ground-slant.gif",                                                 
       halign: 'RIGHT',                                                                                 
       valign: 'TOP',                                                                                   
     }                                                                                                  
                                                                                                        
    /**                                                                                                 
     * What kind of pickups are there in this level?                                                    
     */                                                                                                 
     {                                                                                                  
       name: "regular coin",                                                                            
       sprite: "graphics/assorted/Regular-coin.gif",                                                    
       rows: 1,                                                                                         
       columns: 4                                                                                       
     },                                                                                                 
     {                                                                                                  
       name: "dragon coin",                                                                             
       sprite: "graphics/assorted/Dragon-coin.gif",                                                     
       rows: 1,                                                                                         
       columns: 10                                                                                      
     }                                                                                                  
     {                                                                                                  
       name: "mushroom",                                                                                
       sprite: "graphics/assorted/Mushroom.gif",                                                        
       halign: 'CENTER',                                                                                
       valign: 'BOTTOM',                                                                                
     }                                                                                                  
                                                                                                        
    /**                                                                                                 
     * What kind of foreground sprites are there in this level?                                         
     */                                                                                                 
                                                                                                        
     // a small bush, consisting of four sprites                                                        
     {                                                                                                  
       name: "small bush",                                                                              
       sprites: ["graphics/backgrounds/bush-01.gif",                                                    
                 "graphics/backgrounds/bush-03.gif",                                                    
                 "graphics/backgrounds/bush-04.gif",                                                    
                 "graphics/backgrounds/bush-05.gif"],                                                   
       halign: 'CENTER',                                                                                
       valign: 'BOTTOM'                                                                                 
     },                                                                                                 
                                                                                                        
     // a big bush, consisting of eight sprites                                                         
     {                                                                                                  
       name: "long bush",                                                                               
       sprites: ["graphics/backgrounds/bush-01.gif",                                                    
                 "graphics/backgrounds/bush-02.gif",                                                    
                 "graphics/backgrounds/bush-04.gif",                                                    
                 "graphics/backgrounds/bush-05.gif",                                                    
                 "graphics/backgrounds/bush-03.gif",                                                    
                 "graphics/backgrounds/bush-04.gif",                                                    
                 "graphics/backgrounds/bush-02.gif",                                                    
                 "graphics/backgrounds/bush-05.gif"],                                                   
       halign: 'CENTER',                                                                                
       valign: 'BOTTOM'                                                                                 
     },                                                                                                 
   ],                                                                                                   
                                                                                                        
   actors: [                                                                                            
     // mario!                                                                                          
     {                                                                                                  
       name: "small mario",                                                                             
       states: [                                                                                        
         { name: "standing",                                                                            
           sprites: ["graphics/mario/small/Standing-mario.gif"],                                        
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM' },                                                                          
         { name: "running",                                                                             
           sprites: ["graphics/mario/small/Running-mario.gif"],                                         
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           animationSpeed: 0.75 },                                                                      
         { name: "crouching",                                                                           
           sprites: ["graphics/mario/small/Crouching-mario.gif"],                                       
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM' },                                                                          
         { name: "looking",                                                                             
           sprites: ["graphics/mario/small/Looking-mario.gif"],                                         
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM' }                                                                           
         { name: "jumping",                                                                             
           sprites: ["graphics/mario/small/Jumping-mario.gif"],                                         
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           path: [ {type: "line",                                                                       
                    from: {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    to:   {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    duration: 24 } ],                                                                   
            detaching: true                                                                             
         },                                                                                             
         { name: "crouchjumping",                                                                       
           sprites: ["graphics/mario/small/Crouching-mario.gif"],                                       
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           path: [ {type: "line",                                                                       
                    from: {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    to:   {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    duration: 24 } ],                                                                   
            detaching: true                                                                             
         },                                                                                             
         { name: "spinning",                                                                            
           sprites: ["graphics/mario/small/Spinning-mario.gif"],                                        
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           rows: 1,                                                                                     
           columns: 4,                                                                                  
           path: [ {type: "line",                                                                       
                    from: {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    to:   {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    duration: 24 } ],                                                                   
            detaching: true                                                                             
         },                                                                                             
         { name: "dead",                                                                                
           sprites: ["graphics/mario/small/Dead-mario.gif"],                                            
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           rows: 1,                                                                                     
           columns: 2,                                                                                  
           noRotation: true,                                                                            
           looping: false,                                                                              
           path: [ {type: "curve",                                                                      
                    from: {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    over: {cx1: 0, cy1: -20, cx2: 0, cy2: 0},                                           
                    to:   {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    duration: 24,                                                                       
                    curvature: 1 } ],                                                                   
           removeOnFinish: true                                                                         
         }                                                                                              
       ],                                                                                               
       defaultState: "standing",                                                                        
       inputHandling: [                                                                                 
         { key: "UP",                                                                                   
           when: "ALWAYS",                                                                              
           state: "looking" },                                                                          
         { key: "DOWN",                                                                                 
           when: "ALWAYS",                                                                              
           state: "crouching" },                                                                        
         { key: "LEFT",                                                                                 
           state: "running",                                                                            
           when: "ALWAYS",                                                                              
           exceptWhen: ["crouching", "looking"],                                                        
           flipHorizontal: true },                                                                      
         { key: "RIGHT",                                                                                
           state: "running",                                                                            
           when: "ALWAYS",                                                                              
           exceptWhen: ["crouching", "looking"],                                                        
           flipHorizontal: false },                                                                     
         { key: "BUTTON_A",                                                                             
           when: "EXCLUSIVE",                                                                           
           exceptWhen: ["jumping", "crouchjumping", "spinning"],                                        
           states: [                                                                                    
             {"crouchjumping", when: "crouching" },                                                     
             {"jumping", when: "ALWAYS" }                                                               
           ],                                                                                           
           ignoreRepeat: true,                                                                          
           addImpulse: {x: 0, y: 20}                                                                    
         }                                                                                              
         { key: "BUTTON_B",                                                                             
           when: "EXCLUSIVE",                                                                           
           exceptWhen: ["jumping", "crouchjumping", "spinning"],                                        
           states: [ {"spinning", when: "ALWAYS"} ],                                                    
           ignoreRepeat: true,                                                                          
           addImpulse: {x: 0, y: 20}                                                                    
         }                                                                                              
       ],                                                                                               
       boundaryAttach: [                                                                                
         {when: "crouchjump", state: "crouching"},                                                      
         {when: "ALWAYS", state: "standing"}                                                            
       ]                                                                                                
     },                                                                                                 
                                                                                                        
     // a red koopa trooper                                                                             
     {                                                                                                  
       name: "red koopa",                                                                               
       states: [                                                                                        
         { name: "standing",                                                                            
           sprites: ["graphics/enemies/Red-koopa-standing.gif"],                                        
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM' },                                                                          
         { name: "walking",                                                                             
           sprites: ["graphics/enemies/Red-koopa-walking.gif"],                                         
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           animationSpeed: 0.25 },                                                                      
         { name: "naked",                                                                               
           sprites: ["graphics/enemies/Naked-koopa-walking.gif"],                                       
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           animationSpeed: 0.25 },                                                                      
         { name: "dead",                                                                                
           sprites: ["graphics/enemies/Dead-koopa.gif"],                                                
           halign: 'CENTER',                                                                            
           valign: 'BOTTOM',                                                                            
           looping: false;                                                                              
           path: [ {type: "line",                                                                       
                    from: {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    to:   {x: 0, y:0, sx: 1, sy: 1, r: 0 },                                             
                    duration: 22 } ],                                                                   
           removeOnFinish: true                                                                         
         }                                                                                              
       ],                                                                                               
       defaultState: "walking"                                                                          
     }                                                                                                  
   ]                                                                                                    
                                                                                                        
   /**                                                                                                  
    * Level layout                                                                                      
    */                                                                                                  
   level: {                                                                                             
     // level dimensions                                                                                
     width: 512,                                                                                        
     height: 432,                                                                                       
                                                                                                        
     xforce: 0,                                                                                         
     yforce: 0.7,                                                                                       
                                                                                                        
     xacceleration: 0,                                                                                  
     yacceleration: 1.3,                                                                                
                                                                                                        
     // the plain background                                                                            
     backgroundColor: '#0064BE',                                                                        
                                                                                                        
     // background sprites                                                                              
     backgroundSprites: [                                                                               
       { sprite: "background" },                                                                        
       { sprite: "slanted ground",                                                                      
         x: this.width/2,                                                                               
         y: this.height - spriteheight - 48                                                             
       }                                                                                                
     ],                                                                                                 
                                                                                                        
     // platforms                                                                                       
     boundaries: [                                                                                      
       {x1: -20,      y1: 384,      x2: 532,       y2: 384},                                            
       {x1: 54 +   0, y1: 96 +   0, x2: 105 +   0, y2: 96 +   0},                                       
       {x1: 54 + 224, y1: 96 +  48, x2: 105 + 224, y2: 96 +  48},                                       
       {x1: 54 + 336, y1: 96 +  32, x2: 105 + 336, y2: 96 +  32},                                       
       {x1: 54 + 256, y1: 96 + 192, x2: 105 + 256, y2: 96 + 192},                                       
       {x1: 54 + 336, y1: 96 + 208, x2: 105 + 336, y2: 96 + 208},                                       
       {x1: 54 + 138, y1: 96 + 144, x2: 105 + 112, y2: 96 + 144},                                       
       {x1: 54 + 186, y1: 96 + 160, x2: 105 + 160, y2: 96 + 160},                                       
       {x1: 54 + 330, y1: 96 + 256, x2: 105 + 322, y2: 96 + 256}                                        
     ],                                                                                                 
                                                                                                        
     // static pickups                                                                                  
     pickups: [                                                                                         
       // delicious coins                                                                               
       { sprite: "regular coin", x: 80 +   0, y: 96 +   0},                                             
       { sprite: "regular coin", x: 80 + 224, y: 96 +  48},                                             
       { sprite: "regular coin", x: 80 + 336, y: 96 +  32},                                             
       { sprite: "regular coin", x: 80 + 256, y: 96 + 192},                                             
       { sprite: "regular coin", x: 80 + 336, y: 96 + 208},                                             
       { sprite: "regular coin", x: 80 + 126, y: 96 + 144},                                             
       // mysterious coins                                                                              
       { sprite: "dragon coin", x: 116, y: 280},                                                        
       { sprite: "dragon coin", x: 140, y: 298},                                                        
       { sprite: "dragon coin", x: 180, y: 330},                                                        
       { sprite: "dragon coin", x: 204, y: 298}                                                         
     ],                                                                                                 
                                                                                                        
     // non-player actors                                                                               
     interactors: [                                                                                     
       { actor: "red koopa", x: this.width/2, y: 0, xforce: -0.2, xdampening: 0.75, ydampening: 0.75},  
       { actor: "red koopa", x: this.width,   y: 0, xforce: -0.2, xdampening: 0.75, ydampening: 0.75},  
     ],                                                                                                 
                                                                                                        
     // player actor(s)                                                                                 
     actors: [                                                                                          
       { actor: "small mario", x: this.width/2, y: this.height/2, xdampening: 0.75, ydampening: 0.75}, }
     ],                                                                                                 
                                                                                                        
     // foreground sprites                                                                              
     foregroundSprites: [                                                                               
       { sprite: "small bush",                                                                          
         x: this.width/4.5,                                                                             
         y: this.height-48 },                                                                           
       { sprite: "long bush",                                                                           
         x: 3*this.width/4,                                                                             
         y: this.height-48 }                                                                            
     ]                                                                                                  
   }                                                                                                    
 }                                                                                                      